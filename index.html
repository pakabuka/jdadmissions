<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T14 Law School Admissions Predictor</title>
    <link href="https://fonts.googleapis.com/css2?family=Spectral:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Spectral', serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #f0f4f8;
            color: #333;
        }
        .container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 100%;
            width: 100%;
            margin-bottom: 20px;
            box-sizing: border-box;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            color: #003366;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #003366;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: calc(100% - 24px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 14px;
        }
        button {
            width: 100%;
            padding: 12px;
            background-color: #003366;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #001f4d;
        }
        .result {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            color: #003366;
        }
        .disclaimer {
            margin-top: 20px;
            font-size: 12px;
            color: #777;
            text-align: center;
        }
        .explanation {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }
        a {
            color: #003366;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            cursor: pointer;
            background-color: #f2f2f2;
            color: #003366;
        }
        th:hover {
            background-color: #ddd;
        }

        @media (min-width: 600px) {
            .container {
                max-width: 600px;
                padding: 30px;
            }
            h1 {
                font-size: 32px;
            }
            input[type="text"],
            input[type="number"],
            select {
                width: calc(100% - 20px);
                font-size: 16px;
            }
            button {
                font-size: 18px;
            }
            .result {
                font-size: 20px;
            }
            .explanation {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>T14 Law School Admissions Predictor</h1>

        <label for="lsat">LSAT Score:</label>
        <input type="number" id="lsat" min="120" max="180" required>

        <label for="gpa">GPA:</label>
        <input type="number" step="0.01" id="gpa" min="0" max="4.33" required>

        <label for="international">International Student:</label>
        <select id="international">
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select>

        <label for="urm">Under-Represented Minority (URM):</label>
        <select id="urm">
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select>

        <button onclick="calculateProbability()">Calculate Probability</button>
        <div class="result" id="result"></div>
    </div>

    <div class="container explanation">
        <h2>Explanation of Model Performance Metrics</h2>
        <p><strong>Accuracy:</strong> The proportion of correctly classified instances. It is a measure of how often the model is correct. A higher accuracy indicates a better model.</p>
        <p><strong>AUC (Area Under the Curve):</strong> The area under the ROC (Receiver Operating Characteristic) curve. It measures the ability of the model to distinguish between positive and negative classes. An AUC of 0.5 indicates no discriminative power, while an AUC of 1.0 indicates perfect classification.</p>
       
        <p><strong>Interpreting AUC</strong></p>
        <ul>
            <li>0.5 &lt; AUC &lt; 0.7: Poor model performance.</li>
            <li>0.7 &le; AUC &lt; 0.8: Fair performance.</li>
            <li>0.8 &le; AUC &lt; 0.9: Good performance.</li>
            <li>0.9 &le; AUC &lt; 1.0: Excellent performance.</li>
        </ul>
    </div>

    <div class="disclaimer">
        <br>
        Please note that the estimated chances do not indicate that you personally have a specific percentage chance (e.g., 50%) <br>
        of getting into a particular school. Instead, they reflect statistical data showing that a certain percentage (e.g., 50%) <br>
        of past applicants who had the same GPA and LSAT scores (or other similar qualifications) as you were accepted into that school.<br>
        <br>

        Data source: <a href="https://www.lsd.law/download" target="_blank">https://www.lsd.law/download</a><br>
        Models were built based on data from the 2019-2023 cycles.<br>
         Developed by Frederick Liu. Last updated: 5/30/2024.
    </div>

    <script>
        function calculateProbability() {
            const lsat = parseFloat(document.getElementById('lsat').value);
            const gpa = parseFloat(document.getElementById('gpa').value);
            const international = parseInt(document.getElementById('international').value);
            const urm = parseInt(document.getElementById('urm').value);

            if (isNaN(lsat) || isNaN(gpa)) {
                alert("Please enter both LSAT and GPA values.");
                return;
            }

            if (lsat > 180 || lsat < 120) {
                alert("LSAT score must be between 120 and 180.");
                return;
            }

            if (gpa > 4.33 || gpa < 0) {
                alert("GPA must be between 0 and 4.33.");
                return;
            }

            const schools = {
                yale: { name: "Yale University", beta_lsat: 0.186, beta_gpa: 5.478, beta_international: -1.232, beta_urm: 2.081, beta_0: -55.625, accuracy: 89.51, auc: 90.57 },
                stanford: { name: "Stanford University", beta_lsat: 0.184, beta_gpa: 5.118, beta_international: -0.490, beta_urm: 2.347, beta_0: -53.152, accuracy: 85.06, auc: 90.38 },
                harvard: { name: "Harvard University", beta_lsat: 0.214, beta_gpa: 5.030, beta_international: -1.223, beta_urm: 1.191, beta_0: -57.949, accuracy: 85.09, auc: 82.94 },
                chicago: { name: "University of Chicago", beta_lsat: 0.237, beta_gpa: 6.592, beta_international: -1.935, beta_urm: 3.287, beta_0: -66.109, accuracy: 89.96, auc: 94.64 },
                columbia: { name: "Columbia University", beta_lsat: 0.233, beta_gpa: 8.219, beta_international: -0.502, beta_urm: 2.930, beta_0: -70.890, accuracy: 88.85, auc: 94.70 },
                penn: { name: "University of Pennsylvania", beta_lsat: 0.284, beta_gpa: 4.902, beta_international: -1.762, beta_urm: 1.986, beta_0: -67.442, accuracy: 84.63, auc: 90.44 },
                nyu: { name: "New York University", beta_lsat: 0.338, beta_gpa: 8.009, beta_international: -1.620, beta_urm: 2.300, beta_0: -88.010, accuracy: 89.84, auc: 95.70 },
                duke: { name: "Duke University", beta_lsat: 0.299, beta_gpa: 6.407, beta_international: -1.156, beta_urm: 1.861, beta_0: -75.069, accuracy: 85.53, auc: 89.73 },
                berk: { name: "University of California, Berkeley", beta_lsat: 0.198, beta_gpa: 5.062, beta_international: -1.203, beta_urm: 1.223, beta_0: -53.402, accuracy: 79.46, auc: 87.51 },
                virginia: { name: "University of Virginia", beta_lsat: 0.207, beta_gpa: 3.439, beta_international: -2.374, beta_urm: 1.724, beta_0: -48.249, accuracy: 82.64, auc: 87.66 },
                michigan: { name: "University of Michigan", beta_lsat: 0.132, beta_gpa: 2.266, beta_international: -3.014, beta_urm: 1.817, beta_0: -31.221, accuracy: 74.26, auc: 81.53 },
                northwestern: { name: "Northwestern University", beta_lsat: 0.318, beta_gpa: 4.279, beta_international: -1.155, beta_urm: 2.765, beta_0: -69.494, accuracy: 84.21, auc: 92.65 },
                cornell: { name: "Cornell University", beta_lsat: 0.325, beta_gpa: 4.860, beta_international: 0.001, beta_urm: 2.263, beta_0: -73.947, accuracy: 88.82, auc: 92.25 },
                georgetown: { name: "Georgetown University", beta_lsat: 0.380, beta_gpa: 5.178, beta_international: -0.499, beta_urm: 2.545, beta_0: -83.024, accuracy: 86.64, auc: 94.68 }
            };

            let results = [];

            for (const [school, params] of Object.entries(schools)) {
                const logit_p = params.beta_0 + (params.beta_lsat * lsat) + (params.beta_gpa * gpa) +
                                (params.beta_international * international) + (params.beta_urm * urm);

                const probability = 1 / (1 + Math.exp(-logit_p));

                results.push({ school: params.name, probability: (probability * 100).toFixed(2), accuracy: params.accuracy, auc: params.auc });
            }

            displayResults(results);
        }

        function displayResults(results) {
            let resultHTML = '<h3>Results</h3>';
            resultHTML += '<table><tr><th onclick="sortTable(0)">School</th><th onclick="sortTable(1)">Probability</th><th onclick="sortTable(2)">Accuracy</th><th onclick="sortTable(3)">AUC</th></tr>';

            results.forEach(result => {
                resultHTML += `<tr><td>${result.school}</td>
                               <td>${result.probability}%</td>
                               <td>${result.accuracy}%</td>
                               <td>${result.auc}%</td></tr>`;
            });

            resultHTML += '</table>';
            document.getElementById('result').innerHTML = resultHTML;
        }

        function sortTable(columnIndex) {
            const table = document.querySelector('table');
            const rows = Array.from(table.rows).slice(1);

            let sortedRows;
            if (columnIndex === 1 || columnIndex === 2 || columnIndex === 3) { // Sort by Probability, Accuracy, or AUC
                sortedRows = rows.sort((a, b) => parseFloat(a.cells[columnIndex].innerText) - parseFloat(b.cells[columnIndex].innerText));
            } else {
                sortedRows = rows.sort((a, b) => a.cells[columnIndex].innerText.localeCompare(b.cells[columnIndex].innerText));
            }

            if (this.sorted && this.sorted.columnIndex === columnIndex) {
                sortedRows.reverse();
                this.sorted.ascending = !this.sorted.ascending;
            } else {
                this.sorted = { columnIndex, ascending: true };
            }

            table.tBodies[0].append(...sortedRows);
        }
    </script>
</body>
</html>
